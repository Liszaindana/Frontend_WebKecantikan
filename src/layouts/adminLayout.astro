---
import "../styles/global.css";

interface Props {
    title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="id">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <title>Admin - {title}</title>
    </head>
    <body class="admin-body">
        <div class="admin-layout">
            <aside class="sidebar glass-panel">
                <div class="logo-area">
                    <h2 class="text-gradient">Kasir Admin</h2>
                </div>
                <nav>
                    <ul>
                        <li>
                            <a href="/admin/dashboard" class="nav-link"
                                >Dashboard</a>
                        </li>
                        <li>
                            <a href="/admin/categories" class="nav-link"
                                >Kategori</a>
                        </li>
                        <li>
                            <a href="/admin/products" class="nav-link"
                                >Produk</a>
                        </li>
                        <li>
                            <a href="/admin/customers" class="nav-link"
                                >Pelanggan</a>
                        </li>
                        <li>
                            <a href="/admin/sales" class="nav-link"
                                >Penjualan</a>
                        </li>
                    </ul>
                </nav>
                <div class="user-area">
                    <a href="/" class="nav-link logout">Logout</a>
                </div>
            </aside>
            <main class="main-content">
                <header class="topbar glass-panel">
                    <h1>{title}</h1>
                    <div class="admin-profile">
                        <span>Admin User</span>
                        <div class="avatar">A</div>
                    </div>
                </header>
                <div class="content-area">
                    <slot />
                </div>
            </main>
        </div>
    </body>
</html>

<style>
    .admin-body {
        background: var(--color-bg-secondary);
        min-height: 100vh;
    }

    .admin-layout {
        display: grid;
        grid-template-columns: 260px 1fr;
        min-height: 100vh;
    }

    .sidebar {
        margin: 1rem;
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
        border-radius: 16px;
    }

    .logo-area {
        margin-bottom: 2rem;
        text-align: center;
    }

    .logo-area h2 {
        margin: 0;
        font-size: 1.5rem;
    }

    .nav-link {
        display: block;
        padding: 0.75rem 1rem;
        margin-bottom: 0.5rem;
        border-radius: 8px;
        color: var(--color-text-muted);
        transition: all 0.2s;
    }

    .nav-link:hover,
    .nav-link.active {
        background: rgba(99, 102, 241, 0.1);
        color: var(--color-primary);
    }

    .logout {
        margin-top: auto;
        color: var(--color-danger);
    }

    .logout:hover {
        background: rgba(239, 68, 68, 0.1);
        color: var(--color-danger);
    }

    .main-content {
        padding: 1rem;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .topbar {
        padding: 1rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .topbar h1 {
        margin: 0;
        font-size: 1.25rem;
    }

    .admin-profile {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--gradient-primary);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
    }

    .content-area {
        flex: 1;
    }
</style>
