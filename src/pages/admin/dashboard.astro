---
import AdminLayout from "../../layouts/adminLayout.astro";

// Statistics Mock
const stats = [
    {
        label: "Total Penjualan",
        value: "Rp 15.000.000",
        change: "+12%",
        icon: "üí∞",
    },
    { label: "Total Pesanan", value: "150", change: "+5%", icon: "üì¶" },
    { label: "Pelanggan Baru", value: "45", change: "+20%", icon: "üë•" },
    { label: "Produk Terjual", value: "320", change: "+8%", icon: "üè∑Ô∏è" },
];

const recentOrders = [
    {
        id: "#ORD-001",
        customer: "Budi Santoso",
        date: "12 Jan 2024",
        total: "Rp 450.000",
        status: "Selesai",
    },
    {
        id: "#ORD-002",
        customer: "Siti Aminah",
        date: "11 Jan 2024",
        total: "Rp 120.000",
        status: "Proses",
    },
    {
        id: "#ORD-003",
        customer: "Andi Saputra",
        date: "11 Jan 2024",
        total: "Rp 1.200.000",
        status: "Pending",
    },
];
---

<AdminLayout title="Dashboard">
    <!-- Stats Grid -->
    <div class="stats-grid">
        {
            stats.map((stat) => (
                <div class="stat-card glass-panel">
                    <div class="stat-icon">{stat.icon}</div>
                    <div class="stat-info">
                        <h3>{stat.label}</h3>
                        <div class="value">{stat.value}</div>
                        <span class="change">{stat.change} bulan ini</span>
                    </div>
                </div>
            ))
        }
    </div>

    <!-- Recent Orders -->
    <div class="section glass-panel">
        <div class="section-header">
            <h2>Pesanan Terbaru</h2>
            <button class="btn-text">Lihat Semua</button>
        </div>
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th>Pelanggan</th>
                        <th>Tanggal</th>
                        <th>Total</th>
                        <th>Status</th>
                        <th>Aksi</th>
                    </tr>
                </thead>
                <tbody>
                    {
                        recentOrders.map((order) => (
                            <tr>
                                <td class="primary-text">{order.id}</td>
                                <td>{order.customer}</td>
                                <td>{order.date}</td>
                                <td>{order.total}</td>
                                <td>
                                    <span
                                        class={`status-badge ${order.status.toLowerCase()}`}
                                    >
                                        {order.status}
                                    </span>
                                </td>
                                <td>
                                    <button class="action-btn">Detail</button>
                                </td>
                            </tr>
                        ))
                    }
                </tbody>
            </table>
        </div>
    </div>
</AdminLayout>

<style>
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .stat-card {
        padding: 1.5rem;
        display: flex;
        align-items: center;
        gap: 1.5rem;
    }

    .stat-icon {
        width: 50px;
        height: 50px;
        background: rgba(99, 102, 241, 0.1);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
    }

    .stat-info h3 {
        margin: 0;
        font-size: 0.875rem;
        color: var(--color-text-muted);
        font-weight: 500;
    }

    .value {
        font-size: 1.5rem;
        font-weight: 700;
        margin: 0.25rem 0;
    }

    .change {
        font-size: 0.75rem;
        color: var(--color-success);
    }

    .section {
        padding: 1.5rem;
    }

    .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
    }

    .btn-text {
        color: var(--color-primary);
        font-weight: 600;
    }

    .table-container {
        overflow-x: auto;
    }

    .data-table {
        width: 100%;
        border-collapse: collapse;
    }

    .data-table th,
    .data-table td {
        padding: 1rem;
        text-align: left;
        border-bottom: 1px solid var(--color-border);
    }

    .data-table th {
        color: var(--color-text-muted);
        font-weight: 500;
        font-size: 0.875rem;
    }

    .primary-text {
        color: var(--color-primary);
        font-weight: 600;
    }

    .status-badge {
        padding: 0.25rem 0.75rem;
        border-radius: 99px;
        font-size: 0.75rem;
        font-weight: 600;
    }

    .status-badge.selesai {
        background: rgba(34, 197, 94, 0.1);
        color: var(--color-success);
    }
    .status-badge.proses {
        background: rgba(234, 179, 8, 0.1);
        color: #eab308;
    }
    .status-badge.pending {
        background: rgba(148, 163, 184, 0.1);
        color: var(--color-text-muted);
    }

    .action-btn {
        color: var(--color-primary);
        font-size: 0.875rem;
    }
</style>
